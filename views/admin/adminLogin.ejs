
<%- include ('../adminLayouts/header.ejs') %>

<style>
  .error-message {
      color: red;
      font-size: 0.8em;
      margin-top: 5px;
  }
</style>
  <!-- ?PROD Only: Google Tag Manager (noscript) (Default ThemeSelection: GTM-5DDHKGP, PixInvent: GTM-5J3LMKC) -->
  <!-- <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5DDHKGP" height="0" width="0" style="display: none; visibility: hidden"></iframe></noscript> -->
  <!-- End Google Tag Manager (noscript) -->
  
  <!-- Content -->

<div class="position-relative">
  <div class="authentication-wrapper authentication-basic container-p-y">
    <div class="authentication-inner py-6 mx-4">

      <!-- Login -->
      <div class="card p-7">
        <!-- Logo -->
        <div class="app-brand justify-content-center mt-5">
          <a href="index.html" class="app-brand-link gap-3">
            <span class="app-brand-logo demo">

</span>
            <span class="app-brand-text demo text-heading fw-semibold">WRIST WISE</span>
          </a>
        </div>
        <!-- /Logo -->

        <div class="card-body mt-1">
          <!-- <p class="mb-5">Please sign-in to your account and start the adventure</p> -->

          <!-- <form id="formAuthentication" class="mb-5" action="/admin/adminLogin" method="post">
            <div class="form-floating form-floating-outline mb-5">
              <input type="text" class="form-control" id="email" name="email" placeholder="Enter your email" autofocus>
              <label for="email">Email </label>
            </div>
            <div class="mb-5">
              <div class="form-password-toggle">
                <div class="input-group input-group-merge">
                  <div class="form-floating form-floating-outline">
                    <input type="password" id="password" class="form-control" name="password" placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;" aria-describedby="password" />
                    <label for="password">Password</label>
                  </div>
                  <span class="input-group-text cursor-pointer"><i class="ri-eye-off-line ri-20px"></i></span>
                </div>
              </div>
            </div>
      
            <div class="mb-5">
              <button class="btn btn-primary d-grid w-100" type="submit">login</button>
            </div>
          </form> -->
          <form id="formAuthentication" class="mb-5" action="/admin/adminLogin" method="post">
            <div class="form-floating form-floating-outline mb-5">
                <input type="text" class="form-control" id="email" name="email" placeholder="Enter your email" autofocus>
                <label for="email">Email</label>
                <span class="error-message" id="email-error" style="color: red; display: none;"></span>
            </div>
            <div class="mb-5">
                <div class="form-password-toggle">
                    <div class="input-group input-group-merge">
                        <div class="form-floating form-floating-outline">
                            <input type="password" id="password" class="form-control" name="password" placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;" aria-describedby="password" />
                            <label for="password">Password</label>
                        </div>
                        <span class="input-group-text cursor-pointer"><i class="ri-eye-off-line ri-20px"></i></span>
                    </div>
                </div>
                <span class="error-message" id="password-error" style="color: red; display: none;"></span>
            </div>
        
            <div class="mb-5">
                <button class="btn btn-primary d-grid w-100" type="submit">Login</button>
            </div>
        </form>
        
        
          
        </div>
      </div>
      </div>
  </div>
</div>

<!-- / Content -->
<script>
  $(document).ready(function () {
      $('#formAuthentication').on('submit', function (event) {
          event.preventDefault();
  
          const email = $('#email').val();
          const password = $('#password').val();
  
          $.ajax({
              type: 'POST',
              url: '/admin/adminLogin',
              data: {
                  email: email,
                  password: password
              },
              success: function (response) {
                  $('#email-error').hide();
                  $('#password-error').hide();
  
                  if (response.success) {
                      window.location.href = response.redirectUrl;
                  } else {
                      if (response.error === 'email') {
                          $('#email-error').text(response.message).show();
                      } else if (response.error === 'password') {
                          $('#password-error').text(response.message).show();
                      } else {
                          alert(response.message);
                      }
                  }
              },
              error: function () {
                  alert('An error occurred. Please try again.');
              }
          });
      });
  });
  </script>
  <!-- Core JS -->
  <!-- build:js assets/vendor/js/core.js -->
  <script src="/adminAssets/vendor/libs/jquery/jquery.js"></script>
  <script src="/adminAssets/vendor/libs/popper/popper.js"></script>
  <script src="/adminAssets/vendor/js/bootstrap.js"></script>
  <script src="/adminAssets/vendor/libs/node-waves/node-waves.js"></script>
  <script src="/adminAssets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
  <script src="/adminAssets/vendor/libs/hammer/hammer.js"></script>
  <script src="/adminAssets/vendor/libs/i18n/i18n.js"></script>
  <script src="/adminAssets/vendor/libs/typeahead-js/typeahead.js"></script>
  <script src="/adminAssets/vendor/js/menu.js"></script>
  
  <!-- Main JS -->
  <script src="/adminAssets/js/main.js"></script>
  
  <!-- Page JS -->
  <script src="/adminAssets/js/pages-auth.js"></script>
  

  <%- include ('../adminLayouts/footer.ejs') %>

